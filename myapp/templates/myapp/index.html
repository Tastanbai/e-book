<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel='stylesheet'>
</head>
<body>
    <h2>Hi,<span class="error_info">{{ request.user.username }}</span> Добро пожаловать в систему управления библиотекой</h2>
    <span><a href="{% url "myapp:logout" %}">Выйти из системы</a></span>
    <header class="d-flex justify-content-center py-3">
        <ul class="nav nav-pills">
          <li class="nav-item"><a href="{% url 'myapp:index' %}" class="nav-link">Библиотека</a></li>
        </ul>
      </header>
    <div class="container">
 <!-- Добавляем форму поиска здесь -->
 <form method="get" action="{% url 'myapp:index' %}">
    <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Search for books..." name="q"  value="{{ request.GET.q }}">
        <button class="btn btn-outline-secondary" type="submit">Search</button>
    </div>
    <a href="{% url 'myapp:add_book' %}" class="btn btn-info btn_vertical">Добавить книги</a>  
<<<<<<< HEAD

    <div  class="btn btn-info btn_vertical">
        <a href="{% url 'myapp:index' %}?sort=name" class="{% if current_sort == 'name' %}active{% endif %}">Сортировать по имени</a> |
        <a href="{% url 'myapp:index' %}?sort=quantity" class="{% if current_sort == 'quantity' %}active{% endif %}">Сортировать по количеству</a> |
        <a href="{% url 'myapp:index' %}?sort=balance_quantity" class="{% if current_sort == 'balance_quantity' %}active{% endif %}">Сортировать по доступному количеству</a>
    </div>
    
    
    
=======
>>>>>>> 3b13b4a057f2d51f1c03a6639e419845b1f5e539
<table id="table" class="table table-bordered table-striped">
    <thead>
    <tr>
        <th>Id</th>
        <th>Name</th>
        <th>BBK</th>
        <th>Quantity</th>
        <th>Balance_quantity</th>
        <th>Edit</th>
        <th>delete</th>
    </tr>
    </thead>
    <tbody>
    {% for book in books %}
        <tr>
            <td>{{ book.id }}</td>
            <td>{{ book.name }}</td>
            <td>{{ book.bbk}}</td>
            <td>{{ book.quantity }}</td>
            <td>{{ book.balance_quantity }}</td>
<<<<<<< HEAD
            <td><a href="edit/{{ book.pk }}/book">Редактировать</a></td>
            <td><a href="delete/{{ book.pk }}/book">Удалить</a></td>
=======
            <td><a href="edit/{{ book.pk }}/book">Edit</a></td>
            <td><a href="delete/{{ book.pk }}/book">Delete</a></td>
>>>>>>> 3b13b4a057f2d51f1c03a6639e419845b1f5e539
        </tr>
    {% endfor %}
    </tbody>
</table>
<script>
    $(document).ready(function() {
        // При клике на любую ссылку сортировки
        $('.sorting-controls a').on('click', function(e) {
            e.preventDefault(); // Отменяем стандартное поведение ссылки
    
            // Удаляем класс 'active' у всех ссылок
            $('.sorting-controls a').removeClass('active');
            // Добавляем класс 'active' только к кликнутой ссылке
            $(this).addClass('active');
    
            // Тут ваш код для AJAX-запроса или перезагрузки страницы
        });
    });
    </script>
    </div>
</body>
</html> 
